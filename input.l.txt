#include<stdio.h>
int main(){
	int n;
	printf("Enter the no of proccesers: ");
	scanf("%d",&n);
	int at[n],bt[n],ct[n],pro[n],tat[n],wt[n];
	int tq;
	printf("Enter the tq: ");
	scanf("%d",&tq);
	int time=0,completed=0;
	int rem_bt[n];
	for(int i=0;i<n;i++){
		printf("Enter the arrival time p%d: ",i+1);
		scanf("%d",&at[i]);
		printf("Enter the burst time p%d: ",i+1);
		scanf("%d",&bt[i]);
		pro[i]=i+1;
		rem_bt[i]=bt[i];
	}
	for(int i=0;i<n-1;i++){
		for(int j=0;j<n-i-1;j++){
			if(at[j]>at[j+1]){
				int temp=at[j];
				at[j]=at[j+1];
				at[j+1]=temp;
				
				temp=bt[j];
				bt[j]=bt[j+1];
				bt[j+1]=temp;
				
				temp=pro[j];
				pro[j]=pro[j+1];
				pro[j+1]=temp;
				
				temp=rem_bt[j];
				rem_bt[j]=rem_bt[j+1];
				rem_bt[j+1]=temp;
				
			}
		}
	}
	
	while(completed<n){
		int execute=0;
		for(int i=0;i<n;i++){
			if(at[i]<=time && rem_bt[i]>0){
				execute=1;
				if(rem_bt[i]>tq){
					time+=tq;
					rem_bt[i]-=tq;
				}
				else{
					time+=rem_bt[i];
					rem_bt[i]=0;
					ct[i]=time;
					tat[i]=ct[i]-at[i];
					wt[i]=tat[i]-bt[i];
					completed++;
					printf("p%d\t%d\t%d\t%d\t%d\t%d\n", pro[i], at[i], bt[i], ct[i], tat[i], wt[i]);
				}
				
			}
		}
		if(!execute){
				printf("System is idle at time %d\n",time);
				time++;
			}
	}
	return 0;
}